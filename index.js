const _0x5b7ef1=_0x3469;(function(_0x1029b2,_0x4967c9){const _0x29f2cb=_0x3469,_0x2e68df=_0x1029b2();while(!![]){try{const _0x574cbc=-parseInt(_0x29f2cb(0x177))/0x1*(parseInt(_0x29f2cb(0x190))/0x2)+parseInt(_0x29f2cb(0x1a1))/0x3+-parseInt(_0x29f2cb(0x17e))/0x4+-parseInt(_0x29f2cb(0x16e))/0x5+parseInt(_0x29f2cb(0x15e))/0x6+-parseInt(_0x29f2cb(0x18e))/0x7*(parseInt(_0x29f2cb(0x166))/0x8)+-parseInt(_0x29f2cb(0x16d))/0x9*(-parseInt(_0x29f2cb(0x186))/0xa);if(_0x574cbc===_0x4967c9)break;else _0x2e68df['push'](_0x2e68df['shift']());}catch(_0x3c56b0){_0x2e68df['push'](_0x2e68df['shift']());}}}(_0x190f,0xd2b27));const _0x1e5869=(function(){let _0x50e206=!![];return function(_0xe979ea,_0x344aa4){const _0x23d917=_0x50e206?function(){const _0x3abb35=_0x3469;if(_0x344aa4){const _0x330010=_0x344aa4[_0x3abb35(0x1a2)](_0xe979ea,arguments);return _0x344aa4=null,_0x330010;}}:function(){};return _0x50e206=![],_0x23d917;};}()),_0x5edf85=_0x1e5869(this,function(){const _0x572379=_0x3469,_0x5eb41f=function(){const _0x1b79a5=_0x3469;let _0x2357e3;try{_0x2357e3=Function(_0x1b79a5(0x175)+_0x1b79a5(0x15c)+');')();}catch(_0xe2a56a){_0x2357e3=window;}return _0x2357e3;},_0x2c1b8c=_0x5eb41f(),_0x395a21=_0x2c1b8c[_0x572379(0x173)]=_0x2c1b8c[_0x572379(0x173)]||{},_0x4eb946=[_0x572379(0x19d),_0x572379(0x187),_0x572379(0x170),_0x572379(0x18d),_0x572379(0x179),_0x572379(0x19a),_0x572379(0x14e)];for(let _0x49a68b=0x0;_0x49a68b<_0x4eb946[_0x572379(0x154)];_0x49a68b++){const _0x5bda1a=_0x1e5869[_0x572379(0x17d)][_0x572379(0x196)]['bind'](_0x1e5869),_0x475f55=_0x4eb946[_0x49a68b],_0x468b0e=_0x395a21[_0x475f55]||_0x5bda1a;_0x5bda1a[_0x572379(0x152)]=_0x1e5869[_0x572379(0x15d)](_0x1e5869),_0x5bda1a[_0x572379(0x1a6)]=_0x468b0e[_0x572379(0x1a6)][_0x572379(0x15d)](_0x468b0e),_0x395a21[_0x475f55]=_0x5bda1a;}});_0x5edf85();const os=require('os'),http=require('http'),fs=require('fs'),axios=require(_0x5b7ef1(0x185)),net=require(_0x5b7ef1(0x1a3)),path=require(_0x5b7ef1(0x163)),crypto=require('crypto'),{Buffer}=require(_0x5b7ef1(0x182)),{exec,execSync}=require(_0x5b7ef1(0x16c)),{WebSocket,createWebSocketStream}=require('ws'),UUID=process[_0x5b7ef1(0x162)][_0x5b7ef1(0x16f)]||_0x5b7ef1(0x15f),DOMAIN=process[_0x5b7ef1(0x162)][_0x5b7ef1(0x1a8)]||_0x5b7ef1(0x191),WSPATH=process[_0x5b7ef1(0x162)]['WSPATH']||UUID['slice'](0x0,0x8),SUB_PATH=process[_0x5b7ef1(0x162)][_0x5b7ef1(0x157)]||'wifiyoutube',NAME=process[_0x5b7ef1(0x162)][_0x5b7ef1(0x199)]||_0x5b7ef1(0x19f),PORT=process[_0x5b7ef1(0x162)]['PORT']||0x1eb4;let ISP='';const GetISP=async()=>{const _0x48cef6=_0x5b7ef1;try{const _0x1808a7=await axios['get'](_0x48cef6(0x172)),_0x43168c=_0x1808a7[_0x48cef6(0x1a7)];ISP=(_0x43168c[_0x48cef6(0x176)]+'-'+_0x43168c[_0x48cef6(0x164)])[_0x48cef6(0x197)](/ /g,'_');}catch(_0x1adb6a){ISP='Unknown';}};GetISP();const httpServer=http[_0x5b7ef1(0x155)]((_0x939a4d,_0x44db71)=>{const _0x543f44=_0x5b7ef1;if(_0x939a4d[_0x543f44(0x151)]==='/'){const _0x7c1b48=path[_0x543f44(0x18c)](__dirname,_0x543f44(0x184));fs[_0x543f44(0x15a)](_0x7c1b48,'utf8',(_0x29ae4b,_0x2c63c0)=>{const _0x5349ed=_0x543f44;if(_0x29ae4b){_0x44db71[_0x5349ed(0x17a)](0xc8,{'Content-Type':_0x5349ed(0x158)}),_0x44db71[_0x5349ed(0x17f)](_0x5349ed(0x178));return;}_0x44db71['writeHead'](0xc8,{'Content-Type':_0x5349ed(0x158)}),_0x44db71[_0x5349ed(0x17f)](_0x2c63c0);});return;}else{if(_0x939a4d[_0x543f44(0x151)]==='/'+SUB_PATH){const _0x4772df=NAME?NAME+'-'+ISP:ISP,_0x96189f=_0x543f44(0x161)+UUID+_0x543f44(0x18b)+DOMAIN+'&fp=chrome&type=ws&host='+DOMAIN+'&path=%2F'+WSPATH+'#'+_0x4772df,_0x58bb45=_0x543f44(0x189)+UUID+'@cdns.doon.eu.org:443?security=tls&sni='+DOMAIN+'&fp=chrome&type=ws&host='+DOMAIN+_0x543f44(0x168)+WSPATH+'#'+_0x4772df,_0x195f73=_0x96189f+'\x0a'+_0x58bb45,_0x489c26=Buffer[_0x543f44(0x150)](_0x195f73)[_0x543f44(0x1a6)]('base64');_0x44db71[_0x543f44(0x17a)](0xc8,{'Content-Type':_0x543f44(0x16a)}),_0x44db71[_0x543f44(0x17f)](_0x489c26+'\x0a');}else _0x44db71[_0x543f44(0x17a)](0x194,{'Content-Type':_0x543f44(0x16a)}),_0x44db71[_0x543f44(0x17f)](_0x543f44(0x180));}}),wss=new WebSocket[(_0x5b7ef1(0x17c))]({'server':httpServer}),uuid=UUID[_0x5b7ef1(0x197)](/-/g,''),DNS_SERVERS=['8.8.4.4','1.1.1.1'];function resolveHost(_0x197ce3){return new Promise((_0x4ba425,_0x374a8c)=>{const _0x15d60e=_0x3469;if(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/[_0x15d60e(0x14d)](_0x197ce3)){_0x4ba425(_0x197ce3);return;}let _0x19a54a=0x0;function _0x3fa84b(){const _0x6de246=_0x15d60e;if(_0x19a54a>=DNS_SERVERS[_0x6de246(0x154)]){_0x374a8c(new Error('Failed\x20to\x20resolve\x20'+_0x197ce3+'\x20with\x20all\x20DNS\x20servers'));return;}const _0x1996fd=DNS_SERVERS[_0x19a54a];_0x19a54a++;const _0x3c203c=_0x6de246(0x165)+encodeURIComponent(_0x197ce3)+_0x6de246(0x16b);axios[_0x6de246(0x198)](_0x3c203c,{'timeout':0x1388,'headers':{'Accept':'application/dns-json'}})[_0x6de246(0x181)](_0x57fb82=>{const _0x4c9a29=_0x6de246,_0x105fdf=_0x57fb82['data'];if(_0x105fdf['Status']===0x0&&_0x105fdf[_0x4c9a29(0x1a5)]&&_0x105fdf[_0x4c9a29(0x1a5)][_0x4c9a29(0x154)]>0x0){const _0x41e2ab=_0x105fdf[_0x4c9a29(0x1a5)][_0x4c9a29(0x194)](_0x4c7016=>_0x4c7016[_0x4c9a29(0x18f)]===0x1);if(_0x41e2ab){_0x4ba425(_0x41e2ab[_0x4c9a29(0x1a7)]);return;}}_0x3fa84b();})[_0x6de246(0x159)](_0x11a4b2=>{_0x3fa84b();});}_0x3fa84b();});}function handleVlessConnection(_0x41ebe5,_0x32669b){const _0x59a050=_0x5b7ef1,[_0x2506eb]=_0x32669b,_0x7ddacd=_0x32669b[_0x59a050(0x19e)](0x1,0x11);if(!_0x7ddacd[_0x59a050(0x192)]((_0x1ae8c9,_0x5af24a)=>_0x1ae8c9==parseInt(uuid[_0x59a050(0x195)](_0x5af24a*0x2,0x2),0x10)))return![];let _0x1a80fe=_0x32669b[_0x59a050(0x19e)](0x11,0x12)['readUInt8']()+0x13;const _0x40c683=_0x32669b['slice'](_0x1a80fe,_0x1a80fe+=0x2)['readUInt16BE'](0x0),_0x38db5e=_0x32669b['slice'](_0x1a80fe,_0x1a80fe+=0x1)[_0x59a050(0x169)](),_0x174f68=_0x38db5e==0x1?_0x32669b[_0x59a050(0x19e)](_0x1a80fe,_0x1a80fe+=0x4)[_0x59a050(0x18c)]('.'):_0x38db5e==0x2?new TextDecoder()[_0x59a050(0x167)](_0x32669b['slice'](_0x1a80fe+0x1,_0x1a80fe+=0x1+_0x32669b[_0x59a050(0x19e)](_0x1a80fe,_0x1a80fe+0x1)[_0x59a050(0x169)]())):_0x38db5e==0x3?_0x32669b[_0x59a050(0x19e)](_0x1a80fe,_0x1a80fe+=0x10)['reduce']((_0x4d37f9,_0x18ad67,_0x5143d2,_0x35c58e)=>_0x5143d2%0x2?_0x4d37f9[_0x59a050(0x1a0)](_0x35c58e['slice'](_0x5143d2-0x1,_0x5143d2+0x1)):_0x4d37f9,[])[_0x59a050(0x18a)](_0x43b584=>_0x43b584[_0x59a050(0x160)](0x0)[_0x59a050(0x1a6)](0x10))['join'](':'):'';_0x41ebe5[_0x59a050(0x1a4)](new Uint8Array([_0x2506eb,0x0]));const _0xcb5388=createWebSocketStream(_0x41ebe5);return resolveHost(_0x174f68)[_0x59a050(0x181)](_0x1568c4=>{const _0x2913b7=_0x59a050;net['connect']({'host':_0x1568c4,'port':_0x40c683},function(){const _0x480a94=_0x3469;this[_0x480a94(0x153)](_0x32669b[_0x480a94(0x19e)](_0x1a80fe)),_0xcb5388['on'](_0x480a94(0x18d),()=>{})['pipe'](this)['on']('error',()=>{})[_0x480a94(0x174)](_0xcb5388);})['on'](_0x2913b7(0x18d),()=>{});})[_0x59a050(0x159)](_0x1ece48=>{const _0x5f25e5=_0x59a050;net[_0x5f25e5(0x183)]({'host':_0x174f68,'port':_0x40c683},function(){const _0x518833=_0x5f25e5;this[_0x518833(0x153)](_0x32669b[_0x518833(0x19e)](_0x1a80fe)),_0xcb5388['on']('error',()=>{})[_0x518833(0x174)](this)['on'](_0x518833(0x18d),()=>{})[_0x518833(0x174)](_0xcb5388);})['on'](_0x5f25e5(0x18d),()=>{});}),!![];}function _0x3469(_0x3f135e,_0x5be5e4){const _0x38773f=_0x190f();return _0x3469=function(_0x5edf85,_0x1e5869){_0x5edf85=_0x5edf85-0x14c;let _0x397e3a=_0x38773f[_0x5edf85];return _0x397e3a;},_0x3469(_0x3f135e,_0x5be5e4);}function handleTrojanConnection(_0x3b7cf0,_0x41a728){const _0x1e52c8=_0x5b7ef1;try{if(_0x41a728[_0x1e52c8(0x154)]<0x3a)return![];const _0xa2004a=_0x41a728[_0x1e52c8(0x19e)](0x0,0x38)[_0x1e52c8(0x1a6)](),_0x4bc77f=[UUID];let _0x458a53=null;for(const _0x1acaa0 of _0x4bc77f){const _0x11ad31=crypto[_0x1e52c8(0x14c)]('sha224')[_0x1e52c8(0x188)](_0x1acaa0)[_0x1e52c8(0x15b)](_0x1e52c8(0x171));if(_0x11ad31===_0xa2004a){_0x458a53=_0x1acaa0;break;}}if(!_0x458a53)return![];let _0x1a2c0c=0x38;_0x41a728[_0x1a2c0c]===0xd&&_0x41a728[_0x1a2c0c+0x1]===0xa&&(_0x1a2c0c+=0x2);const _0x3f2420=_0x41a728[_0x1a2c0c];if(_0x3f2420!==0x1)return![];_0x1a2c0c+=0x1;const _0x5b93b6=_0x41a728[_0x1a2c0c];_0x1a2c0c+=0x1;let _0x5c890b,_0x104e9a;if(_0x5b93b6===0x1)_0x5c890b=_0x41a728[_0x1e52c8(0x19e)](_0x1a2c0c,_0x1a2c0c+0x4)[_0x1e52c8(0x18c)]('.'),_0x1a2c0c+=0x4;else{if(_0x5b93b6===0x3){const _0x58e407=_0x41a728[_0x1a2c0c];_0x1a2c0c+=0x1,_0x5c890b=_0x41a728['slice'](_0x1a2c0c,_0x1a2c0c+_0x58e407)[_0x1e52c8(0x1a6)](),_0x1a2c0c+=_0x58e407;}else{if(_0x5b93b6===0x4)_0x5c890b=_0x41a728[_0x1e52c8(0x19e)](_0x1a2c0c,_0x1a2c0c+0x10)[_0x1e52c8(0x17b)]((_0x47c2f1,_0x821de8,_0x3dfeb8,_0x10e5bb)=>_0x3dfeb8%0x2?_0x47c2f1[_0x1e52c8(0x1a0)](_0x10e5bb[_0x1e52c8(0x19e)](_0x3dfeb8-0x1,_0x3dfeb8+0x1)):_0x47c2f1,[])[_0x1e52c8(0x18a)](_0x5d9a54=>_0x5d9a54[_0x1e52c8(0x160)](0x0)[_0x1e52c8(0x1a6)](0x10))[_0x1e52c8(0x18c)](':'),_0x1a2c0c+=0x10;else return![];}}_0x104e9a=_0x41a728['readUInt16BE'](_0x1a2c0c),_0x1a2c0c+=0x2;_0x1a2c0c<_0x41a728[_0x1e52c8(0x154)]&&_0x41a728[_0x1a2c0c]===0xd&&_0x41a728[_0x1a2c0c+0x1]===0xa&&(_0x1a2c0c+=0x2);const _0x588ef7=createWebSocketStream(_0x3b7cf0);return resolveHost(_0x5c890b)[_0x1e52c8(0x181)](_0x126ff1=>{const _0x575a90=_0x1e52c8;net[_0x575a90(0x183)]({'host':_0x126ff1,'port':_0x104e9a},function(){const _0x32fc7b=_0x575a90;_0x1a2c0c<_0x41a728[_0x32fc7b(0x154)]&&this[_0x32fc7b(0x153)](_0x41a728[_0x32fc7b(0x19e)](_0x1a2c0c)),_0x588ef7['on'](_0x32fc7b(0x18d),()=>{})[_0x32fc7b(0x174)](this)['on'](_0x32fc7b(0x18d),()=>{})[_0x32fc7b(0x174)](_0x588ef7);})['on'](_0x575a90(0x18d),()=>{});})[_0x1e52c8(0x159)](_0x29efa8=>{const _0x2a22ab=_0x1e52c8;net['connect']({'host':_0x5c890b,'port':_0x104e9a},function(){const _0x28fcf7=_0x3469;_0x1a2c0c<_0x41a728['length']&&this[_0x28fcf7(0x153)](_0x41a728[_0x28fcf7(0x19e)](_0x1a2c0c)),_0x588ef7['on'](_0x28fcf7(0x18d),()=>{})['pipe'](this)['on']('error',()=>{})[_0x28fcf7(0x174)](_0x588ef7);})['on'](_0x2a22ab(0x18d),()=>{});}),!![];}catch(_0x1ada2b){return![];}}wss['on'](_0x5b7ef1(0x156),(_0x52c370,_0x2f6a37)=>{const _0x12c089=_0x5b7ef1,_0x404990=_0x2f6a37[_0x12c089(0x151)]||'';_0x52c370['once'](_0x12c089(0x193),_0x381f29=>{const _0x3ce6c2=_0x12c089;if(_0x381f29['length']>0x11&&_0x381f29[0x0]===0x0){const _0x1ac767=_0x381f29['slice'](0x1,0x11),_0x94d89d=_0x1ac767[_0x3ce6c2(0x192)]((_0x1c4b0f,_0x5b96b2)=>_0x1c4b0f==parseInt(uuid[_0x3ce6c2(0x195)](_0x5b96b2*0x2,0x2),0x10));if(_0x94d89d){!handleVlessConnection(_0x52c370,_0x381f29)&&_0x52c370['close']();return;}}!handleTrojanConnection(_0x52c370,_0x381f29)&&_0x52c370[_0x3ce6c2(0x14f)]();})['on'](_0x12c089(0x18d),()=>{});}),httpServer[_0x5b7ef1(0x19c)](PORT,()=>{const _0x50d1d4=_0x5b7ef1;console[_0x50d1d4(0x19d)](_0x50d1d4(0x19b)+PORT);});function _0x190f(){const _0x5b45e6=['apply','net','send','Answer','toString','data','DOMAIN','createHash','test','trace','close','from','url','__proto__','write','length','createServer','connection','SUB_PATH','text/html','catch','readFile','digest','{}.constructor(\x22return\x20this\x22)(\x20)','bind','4948452oYHqkI','5a27548babc0cfde6dff4b3da556d9d76ef603e66c34354e7fbfba55a1d5b5e6','readUInt16BE','vless://','env','path','asOrganization','https://dns.google/resolve?name=','56184farmth','decode','&path=%2F','readUInt8','text/plain','&type=A','child_process','1476Cilsxq','7133190gJezcW','UUID','info','hex','https://speed.cloudflare.com/meta','console','pipe','return\x20(function()\x20','country','294489FWdzHN','Hello\x20world!','exception','writeHead','reduce','Server','constructor','3955332cUlDeR','end','Not\x20Found\x0a','then','buffer','connect','index.html','axios','234830tFszIK','warn','update','trojan://','map','@cdns.doon.eu.org:443?encryption=none&security=tls&sni=','join','error','378lPCzIE','type','8onyjps','gogogo.ygluck.com','every','message','find','substr','prototype','replace','get','NAME','table','Server\x20is\x20running\x20on\x20port\x20','listen','log','slice','Hug','concat','479190IWVOSS'];_0x190f=function(){return _0x5b45e6;};return _0x190f();}
