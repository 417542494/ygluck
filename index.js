const _0x2aaaef=_0x25a2;(function(_0x10d988,_0x2bea0a){const _0x4044f0=_0x25a2,_0x14e51d=_0x10d988();while(!![]){try{const _0xeb33a3=-parseInt(_0x4044f0(0x1ec))/0x1+parseInt(_0x4044f0(0x1ba))/0x2*(parseInt(_0x4044f0(0x1b5))/0x3)+parseInt(_0x4044f0(0x1c8))/0x4*(parseInt(_0x4044f0(0x199))/0x5)+parseInt(_0x4044f0(0x1cb))/0x6+-parseInt(_0x4044f0(0x1a3))/0x7+-parseInt(_0x4044f0(0x1ce))/0x8*(-parseInt(_0x4044f0(0x1e2))/0x9)+-parseInt(_0x4044f0(0x1d4))/0xa*(parseInt(_0x4044f0(0x1c5))/0xb);if(_0xeb33a3===_0x2bea0a)break;else _0x14e51d['push'](_0x14e51d['shift']());}catch(_0x441d1f){_0x14e51d['push'](_0x14e51d['shift']());}}}(_0x1f64,0xde9c4));const _0x179082=(function(){let _0x2cf63a=!![];return function(_0x3c6195,_0x216886){const _0x329707=_0x2cf63a?function(){const _0x3a627e=_0x25a2;if(_0x216886){const _0x2a026e=_0x216886[_0x3a627e(0x1b8)](_0x3c6195,arguments);return _0x216886=null,_0x2a026e;}}:function(){};return _0x2cf63a=![],_0x329707;};}()),_0x203496=_0x179082(this,function(){const _0x13cc34=_0x25a2;let _0x13b807;try{const _0x32a22c=Function(_0x13cc34(0x1f4)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x13b807=_0x32a22c();}catch(_0x4db6f4){_0x13b807=window;}const _0x5e29c6=_0x13b807[_0x13cc34(0x1d0)]=_0x13b807[_0x13cc34(0x1d0)]||{},_0x5a73fb=[_0x13cc34(0x197),_0x13cc34(0x1eb),_0x13cc34(0x1a4),_0x13cc34(0x1c3),_0x13cc34(0x1f8),'table',_0x13cc34(0x1e9)];for(let _0x289182=0x0;_0x289182<_0x5a73fb['length'];_0x289182++){const _0x939b38=_0x179082[_0x13cc34(0x1b3)]['prototype'][_0x13cc34(0x1ca)](_0x179082),_0x5b0293=_0x5a73fb[_0x289182],_0x2462ca=_0x5e29c6[_0x5b0293]||_0x939b38;_0x939b38[_0x13cc34(0x1e3)]=_0x179082[_0x13cc34(0x1ca)](_0x179082),_0x939b38['toString']=_0x2462ca['toString'][_0x13cc34(0x1ca)](_0x2462ca),_0x5e29c6[_0x5b0293]=_0x939b38;}});_0x203496();const os=require('os'),http=require(_0x2aaaef(0x1ae)),fs=require('fs'),axios=require(_0x2aaaef(0x19c)),net=require(_0x2aaaef(0x1c7)),path=require(_0x2aaaef(0x1c6)),crypto=require(_0x2aaaef(0x1f7)),{Buffer}=require(_0x2aaaef(0x1b1)),{exec,execSync}=require(_0x2aaaef(0x1a2)),{WebSocket,createWebSocketStream}=require('ws'),UUID=process[_0x2aaaef(0x1e1)][_0x2aaaef(0x1a1)]||'4f4262d5-59dd-4b6e-8319-f96efb1507b1',DOMAIN=process[_0x2aaaef(0x1e1)][_0x2aaaef(0x19d)]||_0x2aaaef(0x1bb),WSPATH=process[_0x2aaaef(0x1e1)]['WSPATH']||UUID['slice'](0x0,0x8),SUB_PATH=process[_0x2aaaef(0x1e1)][_0x2aaaef(0x1c9)]||_0x2aaaef(0x1c1),NAME=process[_0x2aaaef(0x1e1)]['NAME']||_0x2aaaef(0x1e5),PORT=process[_0x2aaaef(0x1e1)][_0x2aaaef(0x1e4)]||0x1eb4,SUB_KEY=UUID[_0x2aaaef(0x1d6)](0x0,0x10);let ISP='';const GetISP=async()=>{const _0x21a7b9=_0x2aaaef;try{const _0x7de54d=await axios['get']('https://speed.cloudflare.com/meta'),_0x52bdd2=_0x7de54d[_0x21a7b9(0x1cd)];ISP=(_0x52bdd2[_0x21a7b9(0x1c2)]+'-'+_0x52bdd2[_0x21a7b9(0x1b9)])[_0x21a7b9(0x1c0)](/ /g,'_');}catch(_0x26fa28){ISP=_0x21a7b9(0x1be);}};function _0x25a2(_0xc78b8a,_0x3db442){const _0xdcf90b=_0x1f64();return _0x25a2=function(_0x203496,_0x179082){_0x203496=_0x203496-0x197;let _0x18382d=_0xdcf90b[_0x203496];return _0x18382d;},_0x25a2(_0xc78b8a,_0x3db442);}GetISP();const httpServer=http[_0x2aaaef(0x1b7)]((_0x4fef4a,_0x2afee4)=>{const _0x3931df=_0x2aaaef;if(_0x4fef4a[_0x3931df(0x1e8)]==='/'){const _0x590ceb=path['join'](__dirname,_0x3931df(0x1ed));fs['readFile'](_0x590ceb,_0x3931df(0x1cc),(_0x38877a,_0xe86bbc)=>{const _0xa617de=_0x3931df;if(_0x38877a){_0x2afee4[_0xa617de(0x1ac)](0xc8,{'Content-Type':_0xa617de(0x1a0)}),_0x2afee4['end'](_0xa617de(0x1e7));return;}_0x2afee4[_0xa617de(0x1ac)](0xc8,{'Content-Type':'text/html'}),_0x2afee4[_0xa617de(0x1d1)](_0xe86bbc);});return;}else{if(_0x4fef4a[_0x3931df(0x1e8)]==='/'+SUB_PATH+'/'+SUB_KEY){const _0x1863b9=NAME?NAME+'-'+ISP:ISP,_0x2de4a8=_0x3931df(0x1da)+UUID+_0x3931df(0x1e0)+DOMAIN+_0x3931df(0x1e6)+DOMAIN+_0x3931df(0x1bf)+WSPATH+'#'+_0x1863b9,_0x1818e1=_0x3931df(0x1f1)+UUID+_0x3931df(0x1d8)+DOMAIN+_0x3931df(0x1e6)+DOMAIN+'&path=%2F'+WSPATH+'#'+_0x1863b9,_0x1dc1d1=_0x2de4a8+'\x0a'+_0x1818e1,_0x26ae6f=Buffer[_0x3931df(0x1db)](_0x1dc1d1)[_0x3931df(0x19b)]('base64');_0x2afee4[_0x3931df(0x1ac)](0xc8,{'Content-Type':'text/plain'}),_0x2afee4[_0x3931df(0x1d1)](_0x26ae6f+'\x0a');}else _0x2afee4['writeHead'](0x194,{'Content-Type':'text/plain'}),_0x2afee4[_0x3931df(0x1d1)](_0x3931df(0x1f0));}}),wss=new WebSocket['Server']({'server':httpServer}),uuid=UUID[_0x2aaaef(0x1c0)](/-/g,''),DNS_SERVERS=[_0x2aaaef(0x1b4),_0x2aaaef(0x19f)];function resolveHost(_0xb1b7a7){return new Promise((_0x4d02c9,_0x5eb3a7)=>{const _0x1973db=_0x25a2;if(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/[_0x1973db(0x19e)](_0xb1b7a7)){_0x4d02c9(_0xb1b7a7);return;}let _0x58832f=0x0;function _0x643504(){const _0x488f95=_0x1973db;if(_0x58832f>=DNS_SERVERS[_0x488f95(0x1aa)]){_0x5eb3a7(new Error(_0x488f95(0x1ad)+_0xb1b7a7+_0x488f95(0x1c4)));return;}const _0xfd0cc2=DNS_SERVERS[_0x58832f];_0x58832f++;const _0x37c20d=_0x488f95(0x1a7)+encodeURIComponent(_0xb1b7a7)+_0x488f95(0x1d2);axios[_0x488f95(0x1a6)](_0x37c20d,{'timeout':0x1388,'headers':{'Accept':_0x488f95(0x1f5)}})[_0x488f95(0x1f2)](_0x15267d=>{const _0x1118f2=_0x488f95,_0x356059=_0x15267d['data'];if(_0x356059[_0x1118f2(0x1dc)]===0x0&&_0x356059['Answer']&&_0x356059[_0x1118f2(0x1d9)][_0x1118f2(0x1aa)]>0x0){const _0x36b4d0=_0x356059[_0x1118f2(0x1d9)][_0x1118f2(0x1bd)](_0x53c579=>_0x53c579[_0x1118f2(0x1a5)]===0x1);if(_0x36b4d0){_0x4d02c9(_0x36b4d0['data']);return;}}_0x643504();})[_0x488f95(0x1a9)](_0x45fa45=>{_0x643504();});}_0x643504();});}function handleVlessConnection(_0x15b99f,_0x470ea0){const _0x12e048=_0x2aaaef,[_0x30571c]=_0x470ea0,_0x1e2794=_0x470ea0[_0x12e048(0x1d6)](0x1,0x11);if(!_0x1e2794[_0x12e048(0x1bc)]((_0x343e5c,_0x3c3298)=>_0x343e5c==parseInt(uuid['substr'](_0x3c3298*0x2,0x2),0x10)))return![];let _0x2c8f36=_0x470ea0[_0x12e048(0x1d6)](0x11,0x12)[_0x12e048(0x198)]()+0x13;const _0xee2360=_0x470ea0[_0x12e048(0x1d6)](_0x2c8f36,_0x2c8f36+=0x2)[_0x12e048(0x1b2)](0x0),_0x393a9f=_0x470ea0['slice'](_0x2c8f36,_0x2c8f36+=0x1)[_0x12e048(0x198)](),_0x109acb=_0x393a9f==0x1?_0x470ea0[_0x12e048(0x1d6)](_0x2c8f36,_0x2c8f36+=0x4)[_0x12e048(0x1f3)]('.'):_0x393a9f==0x2?new TextDecoder()[_0x12e048(0x1d5)](_0x470ea0[_0x12e048(0x1d6)](_0x2c8f36+0x1,_0x2c8f36+=0x1+_0x470ea0['slice'](_0x2c8f36,_0x2c8f36+0x1)[_0x12e048(0x198)]())):_0x393a9f==0x3?_0x470ea0['slice'](_0x2c8f36,_0x2c8f36+=0x10)[_0x12e048(0x1de)]((_0x33723c,_0x1e301e,_0x13b0fd,_0x258979)=>_0x13b0fd%0x2?_0x33723c[_0x12e048(0x1df)](_0x258979[_0x12e048(0x1d6)](_0x13b0fd-0x1,_0x13b0fd+0x1)):_0x33723c,[])[_0x12e048(0x19a)](_0xbd4d99=>_0xbd4d99[_0x12e048(0x1b2)](0x0)[_0x12e048(0x19b)](0x10))[_0x12e048(0x1f3)](':'):'';_0x15b99f[_0x12e048(0x1b6)](new Uint8Array([_0x30571c,0x0]));const _0x28158e=createWebSocketStream(_0x15b99f);return resolveHost(_0x109acb)[_0x12e048(0x1f2)](_0x34f05a=>{const _0x3e76c1=_0x12e048;net['connect']({'host':_0x34f05a,'port':_0xee2360},function(){const _0x2b68e5=_0x25a2;this[_0x2b68e5(0x1dd)](_0x470ea0[_0x2b68e5(0x1d6)](_0x2c8f36)),_0x28158e['on'](_0x2b68e5(0x1c3),()=>{})['pipe'](this)['on'](_0x2b68e5(0x1c3),()=>{})[_0x2b68e5(0x1a8)](_0x28158e);})['on'](_0x3e76c1(0x1c3),()=>{});})[_0x12e048(0x1a9)](_0x1391e2=>{const _0x3476f0=_0x12e048;net[_0x3476f0(0x1cf)]({'host':_0x109acb,'port':_0xee2360},function(){const _0x1ee669=_0x3476f0;this[_0x1ee669(0x1dd)](_0x470ea0[_0x1ee669(0x1d6)](_0x2c8f36)),_0x28158e['on'](_0x1ee669(0x1c3),()=>{})[_0x1ee669(0x1a8)](this)['on'](_0x1ee669(0x1c3),()=>{})['pipe'](_0x28158e);})['on'](_0x3476f0(0x1c3),()=>{});}),!![];}function handleTrojanConnection(_0x3a1499,_0x3db417){const _0xe72715=_0x2aaaef;try{if(_0x3db417[_0xe72715(0x1aa)]<0x3a)return![];const _0x4600f4=_0x3db417[_0xe72715(0x1d6)](0x0,0x38)[_0xe72715(0x19b)](),_0x574b17=[UUID];let _0x44eb69=null;for(const _0x34bc6c of _0x574b17){const _0x15d9e4=crypto['createHash'](_0xe72715(0x1d3))[_0xe72715(0x1b0)](_0x34bc6c)['digest'](_0xe72715(0x1ab));if(_0x15d9e4===_0x4600f4){_0x44eb69=_0x34bc6c;break;}}if(!_0x44eb69)return![];let _0x397c02=0x38;_0x3db417[_0x397c02]===0xd&&_0x3db417[_0x397c02+0x1]===0xa&&(_0x397c02+=0x2);const _0xef9750=_0x3db417[_0x397c02];if(_0xef9750!==0x1)return![];_0x397c02+=0x1;const _0x3698f2=_0x3db417[_0x397c02];_0x397c02+=0x1;let _0x171243,_0x4bb624;if(_0x3698f2===0x1)_0x171243=_0x3db417[_0xe72715(0x1d6)](_0x397c02,_0x397c02+0x4)['join']('.'),_0x397c02+=0x4;else{if(_0x3698f2===0x3){const _0x5ed040=_0x3db417[_0x397c02];_0x397c02+=0x1,_0x171243=_0x3db417[_0xe72715(0x1d6)](_0x397c02,_0x397c02+_0x5ed040)['toString'](),_0x397c02+=_0x5ed040;}else{if(_0x3698f2===0x4)_0x171243=_0x3db417['slice'](_0x397c02,_0x397c02+0x10)[_0xe72715(0x1de)]((_0x1c66f4,_0x3cc83e,_0x5df61e,_0x1866f8)=>_0x5df61e%0x2?_0x1c66f4[_0xe72715(0x1df)](_0x1866f8[_0xe72715(0x1d6)](_0x5df61e-0x1,_0x5df61e+0x1)):_0x1c66f4,[])[_0xe72715(0x19a)](_0x37f228=>_0x37f228[_0xe72715(0x1b2)](0x0)[_0xe72715(0x19b)](0x10))['join'](':'),_0x397c02+=0x10;else return![];}}_0x4bb624=_0x3db417[_0xe72715(0x1b2)](_0x397c02),_0x397c02+=0x2;_0x397c02<_0x3db417[_0xe72715(0x1aa)]&&_0x3db417[_0x397c02]===0xd&&_0x3db417[_0x397c02+0x1]===0xa&&(_0x397c02+=0x2);const _0x388d08=createWebSocketStream(_0x3a1499);return resolveHost(_0x171243)[_0xe72715(0x1f2)](_0x1294b1=>{const _0x947378=_0xe72715;net['connect']({'host':_0x1294b1,'port':_0x4bb624},function(){const _0x5e6aad=_0x25a2;_0x397c02<_0x3db417[_0x5e6aad(0x1aa)]&&this[_0x5e6aad(0x1dd)](_0x3db417[_0x5e6aad(0x1d6)](_0x397c02)),_0x388d08['on'](_0x5e6aad(0x1c3),()=>{})[_0x5e6aad(0x1a8)](this)['on'](_0x5e6aad(0x1c3),()=>{})[_0x5e6aad(0x1a8)](_0x388d08);})['on'](_0x947378(0x1c3),()=>{});})[_0xe72715(0x1a9)](_0x37aaa9=>{const _0xc23503=_0xe72715;net[_0xc23503(0x1cf)]({'host':_0x171243,'port':_0x4bb624},function(){const _0x5e54b4=_0xc23503;_0x397c02<_0x3db417[_0x5e54b4(0x1aa)]&&this[_0x5e54b4(0x1dd)](_0x3db417[_0x5e54b4(0x1d6)](_0x397c02)),_0x388d08['on'](_0x5e54b4(0x1c3),()=>{})[_0x5e54b4(0x1a8)](this)['on']('error',()=>{})[_0x5e54b4(0x1a8)](_0x388d08);})['on'](_0xc23503(0x1c3),()=>{});}),!![];}catch(_0x21593d){return![];}}function _0x1f64(){const _0x28b832=['close','crypto','exception','log','readUInt8','774665nGzZan','map','toString','axios','DOMAIN','test','1.1.1.1','text/html','UUID','child_process','9076326LhQKPk','info','type','get','https://dns.google/resolve?name=','pipe','catch','length','hex','writeHead','Failed\x20to\x20resolve\x20','http','message','update','buffer','readUInt16BE','constructor','8.8.4.4','1077351jKddmo','send','createServer','apply','asOrganization','2LpvEBk','gogogo.ygluck.com','every','find','Unknown','&path=%2F','replace','wifiyoutube','country','error','\x20with\x20all\x20DNS\x20servers','11VLoqjZ','path','net','44NkvCGs','SUB_PATH','bind','7112526DGphsV','utf8','data','8lHYUAi','connect','console','end','&type=A','sha224','12661210ABKKXU','decode','slice','Server\x20is\x20running\x20on\x20port\x20','@cdns.doon.eu.org:443?security=tls&sni=','Answer','vless://','from','Status','write','reduce','concat','@cdns.doon.eu.org:443?encryption=none&security=tls&sni=','env','13738752CyICUx','__proto__','PORT','Hug','&fp=chrome&type=ws&host=','Hello\x20world!','url','trace','substr','warn','1300778nYEJpl','index.html','connection','once','Not\x20Found\x0a','trojan://','then','join','return\x20(function()\x20','application/dns-json'];_0x1f64=function(){return _0x28b832;};return _0x1f64();}wss['on'](_0x2aaaef(0x1ee),(_0x4de63e,_0x1e44a9)=>{const _0x4f4613=_0x2aaaef,_0x54c0d7=_0x1e44a9[_0x4f4613(0x1e8)]||'';_0x4de63e[_0x4f4613(0x1ef)](_0x4f4613(0x1af),_0x28469d=>{const _0x44e311=_0x4f4613;if(_0x28469d[_0x44e311(0x1aa)]>0x11&&_0x28469d[0x0]===0x0){const _0x433cdd=_0x28469d[_0x44e311(0x1d6)](0x1,0x11),_0x4b3a9c=_0x433cdd[_0x44e311(0x1bc)]((_0x6c1dd,_0x3e5bc6)=>_0x6c1dd==parseInt(uuid[_0x44e311(0x1ea)](_0x3e5bc6*0x2,0x2),0x10));if(_0x4b3a9c){!handleVlessConnection(_0x4de63e,_0x28469d)&&_0x4de63e[_0x44e311(0x1f6)]();return;}}!handleTrojanConnection(_0x4de63e,_0x28469d)&&_0x4de63e[_0x44e311(0x1f6)]();})['on'](_0x4f4613(0x1c3),()=>{});}),httpServer['listen'](PORT,()=>{const _0x22c37c=_0x2aaaef;console[_0x22c37c(0x197)](_0x22c37c(0x1d7)+PORT);});
